<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parea • Chat</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Firebase v10 compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
</head>
<body>
  <!-- Auth Screen -->
  <div id="authScreen" class="auth-screen">
    <div class="auth-card">
      <h1>👋 Καλώς ήρθες στο <span class="accent">Parea</span></h1>
      <div class="tabs">
        <button class="tab active" data-tab="login">Login</button>
        <button class="tab" data-tab="register">Register</button>
      </div>

      <form id="loginForm" class="auth-form active">
        <label>Email</label>
        <input type="email" id="loginEmail" placeholder="you@example.com" required />
        <label>Password</label>
        <input type="password" id="loginPassword" placeholder="••••••••" required />
        <button type="submit" class="primary">Login</button>
        <button type="button" id="anonBtn" class="ghost">Continue as Guest</button>
      </form>

      <form id="registerForm" class="auth-form">
        <label>Email</label>
        <input type="email" id="regEmail" placeholder="you@example.com" required />
        <label>Password</label>
        <input type="password" id="regPassword" placeholder="At least 6 chars" required />
        <label>Display name</label>
        <input type="text" id="regDisplayName" placeholder="Το όνομά σου" />
        <button type="submit" class="primary">Create account</button>
      </form>

      <p id="authError" class="error"></p>
    </div>
  </div>

  <!-- App Layout -->
  <div id="app" class="app hidden">
    <!-- Rooms (Left) -->
    <aside class="panel left">
      <header class="panel-header">
        <span>Rooms</span>
        <button id="newRoomBtn" title="New Room">＋</button>
      </header>
      <div id="roomsList" class="list"></div>
    </aside>

    <!-- Main Chat (Center) -->
    <main class="main">
      <header class="main-header">
        <div>
          <div id="currentRoomName" class="room-name">#general</div>
          <div id="roomStats" class="room-stats">—</div>
        </div>
      </header>

      <section id="messages" class="messages"></section>

      <footer class="composer">
        <button id="emojiBtn" title="Emoji">😊</button>
        <button id="gifBtn" title="GIF">GIF</button>
        <input id="messageInput" type="text" placeholder="Γράψε μήνυμα..." />
        <button id="sendBtn" class="primary">Send</button>
      </footer>

      <!-- Simple Emoji Picker -->
      <div id="emojiPicker" class="emoji-picker hidden" role="menu" aria-label="Emoji picker"></div>
    </main>

    <!-- Users (Right) -->
    <aside class="panel right">
      <header class="panel-header">
        <span>Users</span>
        <button id="logoutBtn" class="danger">Logout</button>
      </header>
      <div id="usersList" class="list users"></div>
    </aside>
  </div>

  <script>
    window.PAREA_CONFIG = {
      firebaseConfig: {
        apiKey: "AIzaSyClHV-UzOZzyB3RXQRDfxxUrMPsb8fr-EY",
        authDomain: "parea-b1649.firebaseapp.com",
        databaseURL: "https://parea-b1649-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "parea-b1649",
        storageBucket: "parea-b1649.appspot.com",
        messagingSenderId: "354190438291",
        appId: "1:354190438291:web:aeb06ee9420172a62c4266"
      },
      giphyKey: "bCn5Jvx2ZOepneH6fMteNoX31hVfqX25"
    };
  </script>
  <script src="app.js"></script>
</body>
</html>
